import{r as e,h as a,c as t,H as r}from"./p-aff91b47.js";import"./p-e84859fa.js";import"./p-a03d57a1.js";import"./p-a6712bf4.js";import{d as i,b as o}from"./p-1577a76b.js";import"./p-e497ad6d.js";import{a as d,h as s}from"./p-338c7261.js";import{S as c}from"./p-732508ba.js";import{g as n,a as l,d as p}from"./p-9fc565cf.js";import{f,e as b}from"./p-382270d8.js";import"./p-ae02fe11.js";import"./p-bf38ee7f.js";const y=class{constructor(a){e(this,a),this.iconPack=i}render(){return a("div",{key:"27ef49cd85552610eb2aa9cfb2046f13e98f0b87",class:"file"},a("dyte-button",{key:"5553484477a3363eaa1a786f66a3e6a86036b7e3",variant:"secondary",kind:"icon",onClick:()=>p(d(this.url),{name:this.name,fallbackName:"file"}),part:"button"},a("dyte-icon",{key:"f929d033d0a67ea654cb306bb5c175860f935af3",icon:this.iconPack.download})),a("div",{key:"238b4f2a4b47ef5d7f58d1e767cb409476073950",class:"file-data"},a("div",{key:"a7497d08623ef878d05c91d02114dbe3b1e5ac9d",class:"name"},this.name),a("div",{key:"3d361ca77f97b4f5d55ffa14173fb6be5e961140",class:"file-data-split"},a("div",{key:"d793ed396da5455431ca9a8937683a559531b575",class:"ext"},n(this.name)),a("span",{key:"098df4e883f1dfb51e6d4274ca6761f6ad5467a7",class:"divider"}),a("div",{key:"f11132ba5caa159139a94edb1213904b51886a7d",class:"size"},l(this.size)))))}};(function(e,a,t,r){var i,o=arguments.length,d=o<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,a,t,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(d=(o<3?i(d):o>3?i(a,t,d):i(a,t))||d);o>3&&d&&Object.defineProperty(a,t,d)})([c()],y.prototype,"iconPack",void 0),y.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}";var g=function(e,a,t,r){var i,o=arguments.length,d=o<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,a,t,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(d=(o<3?i(d):o>3?i(a,t,d):i(a,t))||d);return o>3&&d&&Object.defineProperty(a,t,d),d};const v=class{constructor(a){e(this,a),this.onPreview=t(this,"preview",7),this.iconPack=i,this.t=o(),this.status="loading"}render(){return a("div",{key:"4ab60c036ede1e5ff46471a978c68e5eafa615d3",class:{image:!0,loaded:"loaded"===this.status}},a("img",{key:"2eed0ef93098727817592425da81ff2357c60f72",src:d(this.url),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.onPreview.emit(this.url)}}),"loading"===this.status&&a("div",{key:"13efea611d39c5eb679d7cf5603dec9f95edc775",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},a("dyte-spinner",{key:"afc0eb62f76007c1a15da942fb53fe79ee4aa37f",iconPack:this.iconPack})),"errored"===this.status&&a("div",{key:"c7aa254df37a2eaacb29f94ef22c2f7c056114ad",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},a("dyte-icon",{key:"873385f922410dd9c86192326c0470e2d310e08d",icon:this.iconPack.image_off})),"loaded"===this.status&&a("div",{key:"70a59be0b7b21af1a440ba8165cc2e55c249323d",class:"actions"},a("dyte-button",{key:"62801cc02ea09562a895e983f62e5e3271e89039",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.onPreview.emit(this.url)}},a("dyte-icon",{key:"60d0fdacecec31d24af48016dc2f58d95aaa71f2",icon:this.iconPack.full_screen_maximize})),a("dyte-button",{key:"adacc2b4023f5acc00e4b39304312593d7e74d62",class:"action",variant:"secondary",kind:"icon",onClick:()=>p(this.url,{fallbackName:"image"})},a("dyte-icon",{key:"5a455e504d1db35dcf8564458425dafd200129a3",icon:this.iconPack.download}))))}};g([c()],v.prototype,"iconPack",void 0),g([c()],v.prototype,"t",void 0),v.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}";const h=class{constructor(a){e(this,a),this.onAction=t(this,"action",7),this.actions=[],this.variant="bubble",this.viewType="outgoing",this.hideAvatar=!1,this.hideAuthorName=!1,this.hideMetadata=!1,this.iconPack=i}renderActions(){return a("dyte-menu",{placement:"top-end",offset:1},a("button",{slot:"trigger",class:"actions"},a("dyte-icon",{icon:this.iconPack.chevron_down})),a("dyte-menu-list",null,this.actions.map((e=>a("dyte-menu-item",{onClick:()=>this.onAction.emit(e.id)},e.icon&&a("dyte-icon",{icon:e.icon,slot:"start"}),e.label)))))}render(){return a(r,{key:"2a443309dfcb77b650bf1378ec13f77f2bf01593"},a("div",{key:"989baadfe7e60a3888be667fa0984c97c5a0f597",class:{"message-wrapper":!0,[this.viewType]:!0}},!this.hideAvatar&&a("aside",{key:"2513cf0da43268c39efd3a84c74aab3ec5adc85d",class:"avatar",part:"avatar"},a("dyte-avatar",{key:"18b94987038b10c30393a97f30025f31fe25c411",participant:{name:this.authorName,picture:this.avatarUrl},size:"sm"})),a("div",{key:"f88598f9114ef02ce5f8daa62a09220f0752ba79",class:"message",part:"message"},!this.hideAuthorName&&a("div",{key:"aaa59e19099a9c7d239e3f53b9017f257fe23165",class:"header"},this.authorName),a("div",{key:"4fe21121b123a49f30500ff488f12caa8a376c17",class:{body:!0,bubble:"bubble"===this.variant}},a("slot",{key:"4e8c4c9fa533cd920890648535fdb4203d320027"}),!this.hideMetadata&&!!this.time&&a("div",{key:"2612946059903647ac4172157cef2626e45c5dc7",class:"metadata",title:f(this.time)},b(this.time,new Date(Date.now()))),0!==this.actions.length&&this.renderActions()))))}};(function(e,a,t,r){var i,o=arguments.length,d=o<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,a,t,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(d=(o<3?i(d):o>3?i(a,t,d):i(a,t))||d);o>3&&d&&Object.defineProperty(a,t,d)})([c()],h.prototype,"iconPack",void 0),h.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--dyte-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--dyte-space-1, 4px);align-self:flex-end;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--dyte-space-24, 96px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--dyte-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-md, 8px)}.incoming .bubble{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}dyte-menu{position:absolute;right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background:radial-gradient(\n    at top right,\n    rgb(var(--dyte-colors-brand-300, 73 124 253)) 60%,\n    rgba(255, 255, 255, 0) 80%\n  )}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\n      at top right,\n      rgb(var(--dyte-colors-background-800, 30 30 30)) 60%,\n      rgba(255, 255, 255, 0) 80%\n    )}.incoming .actions dyte-icon{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.incoming dyte-avatar{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){dyte-menu{visibility:hidden}.body:hover dyte-menu{visibility:visible}}";const m=class{constructor(a){e(this,a),this.isMarkdown=!1}render(){return a("p",{key:"a43ffab27ed7b5e388e0dca119c20654b16672d8",class:{text:!0,emoji:s(this.text)}},this.isMarkdown?a("dyte-markdown-view",{text:this.text}):this.text)}};m.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";export{y as dyte_file_message_view,v as dyte_image_message_view,h as dyte_message_view,m as dyte_text_message_view}