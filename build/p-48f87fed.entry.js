import{r as t,c as e,h as i,H as a}from"./p-aff91b47.js";import{s as o}from"./p-338c7261.js";import{d as r}from"./p-5a97005d.js";import{R as s}from"./p-fd4b6d8b.js";import{s as d,d as n,u as c}from"./p-9362c375.js";import{a as l}from"./p-e497ad6d.js";import{S as p}from"./p-2fbb888d.js";var b=function(t,e,i,a){var o,r=arguments.length,s=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,a);else for(var d=t.length-1;d>=0;d--)(o=t[d])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};const f=class{constructor(i){t(this,i),this.stateUpdate=e(this,"dyteStateUpdate",7),this.states=d,this.config=r,this.iconPack=n,this.t=c(),this.isJoining=!1,this.canEditName=!0,this.canProduceAudio=!0,this.socketStateUpdate=({state:t})=>{this.connectionState=t,"failed"===t&&(this.isJoining=!1)},this.join=async()=>{var t,e,i;if(""!==(null===(t=this.displayName)||void 0===t?void 0:t.trim())&&!this.isJoining){this.isJoining=!0,null===(e=this.meeting)||void 0===e||e.self.setName(this.displayName),l.setItem("dyte-display-name",this.displayName);try{await(null===(i=this.meeting)||void 0===i?void 0:i.joinRoom())}catch(t){this.isJoining=!1}}}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting.meta.removeListener("socketConnectionUpdate",this.socketStateUpdate)}componentDidLoad(){var t;null===(t=this.inputEl)||void 0===t||t.focus()}meetingChanged(t){var e,i,a;null!=t&&(this.connectionState=null===(e=t.meta.socketState)||void 0===e?void 0:e.state,this.canEditName=null===(i=t.self.permissions.canEditDisplayName)||void 0===i||i,this.displayName=(null===(a=t.self.name)||void 0===a?void 0:a.trim())||(this.canEditName?"":"Participant"),d.meeting="setup",t.meta.addListener("socketConnectionUpdate",this.socketStateUpdate))}render(){var t,e,r;const n=""===(null===(t=this.displayName)||void 0===t?void 0:t.trim())||"connected"!==this.connectionState||this.isJoining,c={meeting:this.meeting,config:this.config,states:this.states||d,size:this.size,iconPack:this.iconPack,t:this.t};return i(a,{key:"705446631fff05a3776c1373c25006ac8aa4f808"},i("div",{key:"0bf73aff93fbf275e3d6c662363b0ffd9e38caa1",class:"container"},i("div",{key:"97bf8d52b0ac3648851c233306f591739d208062",class:"container-tile"},i(s,{key:"9f1f4c6ab037a78f11e720884cf0aa57444759af",element:"dyte-participant-tile",defaults:c,props:{participant:null===(e=this.meeting)||void 0===e?void 0:e.self,size:"md",isPreview:!0},childProps:{participant:null===(r=this.meeting)||void 0===r?void 0:r.self,size:"md"},deepProps:!0}),i("div",{key:"739e027184f9ec2b3b42d6c3f72f229d01b76a70",class:"media-selectors"},i("dyte-microphone-selector",Object.assign({key:"0fde85bd726bfede7a19d6d749741eba1d3048a5"},c,{variant:"inline"})),i("dyte-camera-selector",Object.assign({key:"23f8120572b23cb2f5f9d1020517ab434dacd9e4"},c,{variant:"inline"})),i("dyte-speaker-selector",Object.assign({key:"bbd114a66c2fd512dfc1e2882fdc2ed3311742a1"},c,{variant:"inline"})))),i("div",{key:"daae4e152ad08bb4f131914357e5a980f9b98794",class:"metadata"},i("div",{key:"911bd12124ba91b5126ae3757790377889c6be6c",class:"name"},this.t("setup_screen.join_in_as")),i("div",{key:"96e29955adc0df05bfdfe2522b39900bb6980435",class:"label"},i("div",{key:"561f3822275e81a62b24d4704e743a0e881a86d9",class:"name"},!this.canEditName&&o(this.displayName,20))),this.canEditName&&i("input",{key:"5f29bb5e7d21daf08c1db3a534aab0bd3d21d76f",placeholder:this.t("setup_screen.your_name"),value:this.displayName,spellcheck:!1,autoFocus:!0,ref:t=>{this.inputEl=t},onInput:t=>{this.displayName=t.target.value},onKeyDown:t=>{"Enter"===t.key&&this.join()}}),i("dyte-button",{key:"08b6d5fbd2297ee902b0f38639c0063c3afbea8a",size:"lg",kind:"wide",onClick:this.join,disabled:n,iconPack:this.iconPack,t:this.t},this.isJoining?i("dyte-spinner",{iconPack:this.iconPack,t:this.t}):this.t("join")),"connected"!==this.connectionState&&i("div",{key:"6e698bde0c3057d4dbeb8f36b59562772228128c",class:"no-network-badge"},i("dyte-icon",{key:"2b622ecb457b8abf898eb4a464b20ecf3effa472",size:"md",variant:"danger",icon:this.iconPack.disconnected}),this.t("failed"===this.connectionState?"network.lost_extended":"network.lost")))))}static get watchers(){return{meeting:["meetingChanged"]}}};b([p()],f.prototype,"meeting",void 0),b([p()],f.prototype,"states",void 0),b([p()],f.prototype,"iconPack",void 0),b([p()],f.prototype,"t",void 0),f.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;padding:var(--dyte-space-4, 16px);height:100%;min-height:100%;width:100%;display:flex;place-items:center;justify-content:center;--dyte-controlbar-button-background-color:rgb(var(--dyte-colors-background-700, 44 44 44))}.container{width:100%;max-width:1080px;display:flex;align-items:center;justify-content:space-evenly;gap:var(--dyte-space-4, 16px)}.metadata{width:100%;max-width:var(--dyte-space-80, 320px)}.label{display:flex;flex-direction:column;align-items:center;font-size:14px}.label p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px);display:inline-block;font-size:16px}.container-tile{display:flex;height:100%;width:100%;max-width:584px;flex-direction:column;gap:var(--dyte-space-2, 8px)}.name{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-6, 24px);text-align:center;font-size:28px;font-weight:500;letter-spacing:-0.025em;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}input{margin-bottom:var(--dyte-space-6, 24px);display:block;height:var(--dyte-space-10, 40px);width:100%;max-width:var(--dyte-space-80, 320px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));box-sizing:border-box;font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}dyte-spinner{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--icon-size:var(--dyte-space-8, 32px)}:host([size='sm']) .container,:host([size='md']) .container{height:100%;flex-direction:column;justify-content:space-evenly}:host([size='sm']) .container-tile,:host([size='md']) .container-tile{height:-moz-min-content;height:min-content;flex-direction:column;justify-content:center}dyte-participant-tile{height:auto;width:100%;max-width:584px}.media-selectors{display:flex;flex-direction:column;justify-content:space-between}.media-selectors .row{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr))}.no-network-badge{margin-top:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:row;align-items:center;justify-content:flex-start;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);font-size:12px;color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.75)}.no-network-badge dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px)}";export{f as dyte_setup_screen}