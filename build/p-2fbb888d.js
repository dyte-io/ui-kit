import{a as n}from"./p-aff91b47.js";import{c as t,u as o,d as s}from"./p-9362c375.js";import{g as i}from"./p-e497ad6d.js";const c={meeting:"idle",prefs:i()},e=t({meeting:void 0,t:o(),iconPack:s,states:c}),a=new Map;function r(n,t){const o=a.get(n);o&&(o.delete(t),0===o.size&&a.delete(n))}function f(){return function(t,o){let s;const{connectedCallback:i,disconnectedCallback:c}=t;t.connectedCallback=function(){const t=n(this);if(!t[o]){const n=e.state[o];n&&(t[o]=n),s=(n,i)=>{if(t[o]!==i)return r(o,s),void(s=void 0);t[o]=n},function(n,t){const o=a.get(n)||new Set;o.add(t),a.set(n,o)}(o,s)}return null==i?void 0:i.call(this)},t.disconnectedCallback=function(){return r(o,s),null==c?void 0:c.call(this)}}}e.on("set",((n,t,o)=>{const s=a.get(n);s&&s.forEach((n=>n(t,o)))}));export{f as S,e as u}