import{r as t,c as i,h as s,H as e}from"./p-aff91b47.js";import{d as a,a as n,c as o}from"./p-8e40fcf4.js";import{S as r}from"./p-961bba4b.js";var c=function(t,i,s,e){var a,n=arguments.length,o=n<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,s,e);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(i,s,o):a(i,s))||o);return n>3&&o&&Object.defineProperty(i,s,o),o};const l=class{constructor(s){t(this,s),this.stateUpdate=i(this,"dyteStateUpdate",7),this.variant="button",this.config=a,this.iconPack=n,this.t=o(),this.captionEnabled=!1,this.permissionsUpdateListener=()=>{var t;this.captionEnabled=null!==(t=this.meeting.self.permissions.transcriptionEnabled)&&void 0!==t&&t}}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(t){null!==t&&(this.permissionsUpdateListener(),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}disconnectedCallback(){var t;null===(t=this.meeting)||void 0===t||t.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}toggleCaptions(){this.stateUpdate.emit({activeCaptions:!this.states.activeCaptions,activeMoreMenu:!1})}render(){if(!this.captionEnabled)return null;const t=this.states.activeCaptions;return s(e,{tabIndex:0,role:"log","aria-label":"Picture-in-Picture mode"},s("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:()=>this.toggleCaptions(),icon:t?this.iconPack.captionsOff:this.iconPack.captionsOn,label:this.t(t?"transcript.off":"transcript.on"),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};c([r()],l.prototype,"meeting",void 0),c([r()],l.prototype,"states",void 0),c([r()],l.prototype,"iconPack",void 0),c([r()],l.prototype,"size",void 0),c([r()],l.prototype,"t",void 0),l.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";export{l as dyte_caption_toggle}