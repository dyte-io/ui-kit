import{r as e,h as a,c as t,H as r}from"./p-7c7b5f4b.js";import"./p-ff56c706.js";import"./p-a03d57a1.js";import"./p-a6712bf4.js";import{d as i}from"./p-d5822e94.js";import{u as o}from"./p-bd6bca51.js";import"./p-e497ad6d.js";import{a as d,h as s}from"./p-338c7261.js";import{g as c,a as n,d as l}from"./p-9fc565cf.js";import{f as p,e as b}from"./p-382270d8.js";import"./p-ae02fe11.js";import"./p-bf38ee7f.js";const y=class{constructor(a){e(this,a),this.iconPack=i,this.t=o()}render(){return a("div",{key:"591098ff1b9c8a04957fad66a4a4aa1e34caf708",class:"file"},a("dyte-button",{key:"1c3b25a25936b19dc9aa3e8b92b946da07450edb",variant:"secondary",kind:"icon",iconPack:this.iconPack,t:this.t,onClick:()=>l(d(this.url),{name:this.name,fallbackName:"file"}),part:"button"},a("dyte-icon",{key:"2278cb9aef8377181d52d77b0d8e1baa3bf81d29",icon:this.iconPack.download,iconPack:this.iconPack,t:this.t})),a("div",{key:"58e168ee33aa1e84a7febdb7fe67e6b1bc56252d",class:"file-data"},a("div",{key:"d9dd0ce08407a6b9bf9862739a56747c9e909398",class:"name"},this.name),a("div",{key:"2dcf877ddb8c7cc9d94274a029c7fa3e078c4d03",class:"file-data-split"},a("div",{key:"cc3ec56837773a5c73def4127856e7ff3d83aa63",class:"ext"},c(this.name)),a("span",{key:"32c730a67fe08abe95b4d06f552b509ca9cd32a9",class:"divider"}),a("div",{key:"a844a79c616160b5ba085425e32ccb4ebf07970a",class:"size"},n(this.size)))))}};y.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}";const g=class{constructor(a){e(this,a),this.onPreview=t(this,"preview",7),this.iconPack=i,this.t=o(),this.status="loading"}render(){return a("div",{key:"9706be8fe10dc21d7e08e4085fa003e7182c43b5",class:{image:!0,loaded:"loaded"===this.status}},a("img",{key:"3e838e5f8f3df2497fd27e06784e55e3d14b7303",src:d(this.url),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.onPreview.emit(this.url)}}),"loading"===this.status&&a("div",{key:"7d065de0fbb85101fea8cf560b763391a40f5d14",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},a("dyte-spinner",{key:"9769b83bdd35423e422f4b06e0fe12430b182b05",iconPack:this.iconPack,t:this.t})),"errored"===this.status&&a("div",{key:"865fc090fe889850b101c5d3c047dfbc032f632c",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},a("dyte-icon",{key:"01004cb3cbca382745b9f898d23746d47142aec3",icon:this.iconPack.image_off,iconPack:this.iconPack,t:this.t})),"loaded"===this.status&&a("div",{key:"923abe91d7ce6efb30d62e0e49ce8812608538d0",class:"actions"},a("dyte-button",{key:"5875e162d0692efdfe8bb05931b4eeb1f65b7dac",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.onPreview.emit(this.url)},iconPack:this.iconPack,t:this.t},a("dyte-icon",{key:"7c984611afadb095ab3b58e9b4650950527913c3",icon:this.iconPack.full_screen_maximize})),a("dyte-button",{key:"83852ac5beaa9798459b86b51d748a2b58c10d2c",class:"action",variant:"secondary",kind:"icon",onClick:()=>l(this.url,{fallbackName:"image"}),iconPack:this.iconPack,t:this.t},a("dyte-icon",{key:"4441810cd07fe131306473cc5e549873a748728c",icon:this.iconPack.download,iconPack:this.iconPack,t:this.t}))))}};g.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}";const f=class{constructor(a){e(this,a),this.onAction=t(this,"action",7),this.actions=[],this.variant="bubble",this.viewType="outgoing",this.hideAvatar=!1,this.hideAuthorName=!1,this.hideMetadata=!1,this.iconPack=i}renderActions(){return a("dyte-menu",{placement:"top-end",offset:1},a("button",{slot:"trigger",class:"actions"},a("dyte-icon",{icon:this.iconPack.chevron_down})),a("dyte-menu-list",null,this.actions.map((e=>a("dyte-menu-item",{onClick:()=>this.onAction.emit(e.id)},e.icon&&a("dyte-icon",{icon:e.icon,slot:"start"}),e.label)))))}render(){return a(r,{key:"16d931dd5e5a7ce7fdda18f0f670be470f914054"},a("div",{key:"c6e63d6954e6abfdf65583760c1bcb6046e36972",class:{"message-wrapper":!0,[this.viewType]:!0}},!this.hideAvatar&&a("aside",{key:"67824399f90d31da53736cddb6162c2a78b2c6e4",class:"avatar",part:"avatar"},a("dyte-avatar",{key:"4342480569fdaf921616a8a07e27d6aa556627ba",participant:{name:this.authorName,picture:this.avatarUrl},size:"sm"})),a("div",{key:"87773e52618e8418fa2ee6e640bdb7a84e7cf5e3",class:"message",part:"message"},!this.hideAuthorName&&a("div",{key:"796acd18455c99f9344a4ae0f662b41ecea335c1",class:"header"},this.authorName),a("div",{key:"484f489e4512af3ce8e8b4d3526bdd4eb402f902",class:{body:!0,bubble:"bubble"===this.variant}},a("slot",{key:"00c62882e718f16ea188e27c771d4f177662e270"}),!this.hideMetadata&&!!this.time&&a("div",{key:"3c89359f9710751f48c5f352757d821af94c6e9a",class:"metadata",title:p(this.time)},b(this.time,new Date(Date.now()))),0!==this.actions.length&&this.renderActions()))))}};f.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--dyte-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--dyte-space-1, 4px);align-self:flex-end;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--dyte-space-24, 96px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--dyte-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-md, 8px)}.incoming .bubble{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}dyte-menu{position:absolute;right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background:radial-gradient(\n    at top right,\n    rgb(var(--dyte-colors-brand-300, 73 124 253)) 60%,\n    rgba(255, 255, 255, 0) 80%\n  )}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\n      at top right,\n      rgb(var(--dyte-colors-background-800, 30 30 30)) 60%,\n      rgba(255, 255, 255, 0) 80%\n    )}.incoming .actions dyte-icon{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.incoming dyte-avatar{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){dyte-menu{visibility:hidden}.body:hover dyte-menu{visibility:visible}}";const h=class{constructor(a){e(this,a),this.isMarkdown=!1}render(){return a("p",{key:"0659d7cc8b98f84da2687d767ab7985f46fba077",class:{text:!0,emoji:s(this.text)}},this.isMarkdown?a("dyte-markdown-view",{text:this.text}):this.text)}};h.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";export{y as dyte_file_message_view,g as dyte_image_message_view,f as dyte_message_view,h as dyte_text_message_view}