import{r as t,h as e,H as r}from"./p-69f2ebde.js";import"./p-1210aa77.js";import"./p-26e8d50e.js";import"./p-799d72ea.js";import{d as s}from"./p-cadf534b.js";import{u as a}from"./p-f9791180.js";import"./p-57e22a58.js";import"./p-aafa2ac8.js";import"./p-19c79157.js";function o({stats:t}){if(!t||!t.length)return null;let e="Good";const r=t.map((t=>t.verdict));return r.includes("Poor")?e="Poor":r.includes("Average")&&(e="Average"),e}function i({packetLossPercentage:t}){let e="Good";return t>4?e="Poor":t>=1&&t<=4&&(e="Average"),e}function d({jitterInMS:t}){let e="Good";return t>100?e="Poor":t>=50&&t<=100&&(e="Average"),e}function n({bitrate:t}){let e="Good";return 0===Math.round(t/1024)&&(e="Poor"),e}function l({batteryLevelPercentage:t}){let e="Good";return t<20?e="Poor":t<50&&(e="Average"),e}function c({charging:t,dischargingTimeInSeconds:e,batteryLevelPercentage:r}){return r<20?"Poor":t?"Good":e<1800?"Poor":"Average"}const b=class{constructor(e){t(this,e),this.mediaScoreUpdateListener=({kind:t,isScreenshare:e,scoreStats:r})=>{"audio"!==t||e||(this.audioProducerScoreStats=r)},this.deviceListUpdateListener=async()=>{const t=await this.meeting.self.getAudioDevices();this.devicesHealth=(null==t?void 0:t.length)>0?"Good":"Poor"},this.audioUpdateListener=()=>{this.meeting.self.audioEnabled||(this.audioProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s,this.t=a(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null}async audioProducerScoreStatsChanged(t){if(!t)return void(this.audioProducerFormattedStats=[]);const e=t,r=[];r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(e.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:n({bitrate:e.bitrate,kind:"audio",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${e.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:i({packetLossPercentage:e.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*e.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:d({jitterInMS:1e3*e.jitter})}),this.audioProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"audio",isScreenshare:!1,stats:r})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("audioUpdate",this.audioUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("audioUpdate",this.audioUpdateListener),t.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var t,s;if(this.meeting)return e(r,null,e("div",{id:"header"}),e("div",{class:"tab-body"},e("div",{class:"status-container"},e("div",{class:"status-section"},e("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},e("span",null,this.t("debugger.audio.sections.network_media")),this.networkBasedMediaHealth&&e("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(s=this.networkBasedMediaHealth)||void 0===s?void 0:s.toLowerCase()}`))),this.isNetworkOpen&&!this.audioProducerFormattedStats.length&&e("div",{class:"section-body missing-stats"},e("span",null,this.t(this.meeting.self.audioEnabled?"debugger.audio.messages.generating_report":"debugger.audio.messages.enable_media"))),this.isNetworkOpen&&!!this.audioProducerFormattedStats.length&&e("div",{class:"section-body network-table"},this.audioProducerFormattedStats.map((t=>{var r,s;return e("div",{class:"network-row"},e("div",{class:"network-cell label"},e("strong",null,t.name),e("span",{class:"description"},t.description)),e("div",{class:"network-cell value"},e("span",{class:`status ${null===(r=t.verdict)||void 0===r?void 0:r.toLowerCase()}`},this.t(`debugger.quality.${null===(s=t.verdict)||void 0===s?void 0:s.toLowerCase()}`)),e("span",{class:"value"},t.value)))})))))))}static get watchers(){return{audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};b.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-audio{display:flex;flex-direction:column}";const g=class{constructor(e){t(this,e),this.mediaScoreUpdateListener=({kind:t,isScreenshare:e,scoreStats:r})=>{"video"===t&&e&&(this.videoProducerScoreStats=r),"audio"===t&&e&&(this.audioProducerScoreStats=r)},this.screenShareUpdateListener=()=>{this.meeting.self.screenShareEnabled||(this.videoProducerScoreStats=null,this.audioProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s,this.t=a(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null}async videoProducerScoreStatsChanged(t){if(!t)return void(this.videoProducerFormattedStats=[]);const e=t,r=[];r.push({name:this.t("debugger.stats.cpu_limitations.label"),value:e.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:e.cpuLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:e.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:e.bandwidthLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(e.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:n({bitrate:e.bitrate,kind:"video",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${e.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:i({packetLossPercentage:e.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*e.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:d({jitterInMS:1e3*e.jitter})}),this.videoProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"video",isScreenshare:!1,stats:r})}async audioProducerScoreStatsChanged(t){if(!t)return void(this.audioProducerFormattedStats=[]);const e=t,r=[];r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(e.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:n({bitrate:e.bitrate,kind:"audio",isScreenshare:!0})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${e.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:i({packetLossPercentage:e.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*e.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:d({jitterInMS:1e3*e.jitter})}),this.audioProducerFormattedStats=r}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("screenShareUpdate",this.screenShareUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("screenShareUpdate",this.screenShareUpdateListener))}render(){var t,s;if(this.meeting)return e(r,null,e("div",{id:"header"}),e("div",{class:"tab-body"},e("div",{class:"status-container"},e("div",{class:"status-section"},e("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},e("span",null,this.t("debugger.screenshare.sections.network_media")),this.networkBasedMediaHealth&&e("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(s=this.networkBasedMediaHealth)||void 0===s?void 0:s.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&e("div",{class:"section-body missing-stats"},e("span",null,this.t(this.meeting.self.screenShareEnabled?"debugger.screenshare.messages.generating_report":"debugger.screenshare.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&e("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((t=>{var r,s;return e("div",{class:"network-row"},e("div",{class:"network-cell label"},e("strong",null,t.name),e("span",{class:"description"},t.description)),e("div",{class:"network-cell value"},e("span",{class:`status ${null===(r=t.verdict)||void 0===r?void 0:r.toLowerCase()}`},this.t(`debugger.quality.${null===(s=t.verdict)||void 0===s?void 0:s.toLowerCase()}`)),e("span",{class:"value"},t.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};g.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}";const h=class{constructor(e){t(this,e),this.batteryUpdateListener=()=>{const t=100*this.battery.level,e=[];e.push({name:this.t("debugger.system.battery.level.label"),value:`${t}%`,description:this.t("debugger.system.battery.level.description"),verdict:l({batteryLevelPercentage:t})}),e.push({name:this.t("debugger.system.battery.charging.label"),value:`${this.t(this.battery.charging?"debugger.system.battery.charging.is_charging":"debugger.system.battery.charging.is_not_charging")}`,description:this.t("debugger.system.battery.charging.description"),verdict:c({batteryLevelPercentage:t,chargingTimeInSeconds:this.battery.chargingTime,dischargingTimeInSeconds:this.battery.dischargingTime,charging:this.battery.charging})}),this.batterySectionHealth=function({stats:t}){if(!t||!t.length)return null;let e="Good";const r=t.map((t=>t.verdict));return r.includes("Poor")?e="Poor":r.includes("Average")&&(e="Average"),e}({stats:e}),this.batteryFormattedStats=e},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s,this.t=a(),this.isBatterySectionOpen=!0,this.batterySectionHealth=null,this.battery=null,this.batteryFormattedStats=[]}toggleSection(t){"battery"===t&&(this.isBatterySectionOpen=!this.isBatterySectionOpen)}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&this.battery&&(this.battery.removeEventListener("levelchange",this.batteryUpdateListener),this.battery.removeEventListener("chargingchange",this.batteryUpdateListener))}async meetingChanged(t){t&&void 0!==navigator.getBattery&&(this.battery=await navigator.getBattery(),this.battery.addEventListener("levelchange",this.batteryUpdateListener),this.battery.addEventListener("chargingchange",this.batteryUpdateListener),this.batteryUpdateListener())}render(){var t,s;if(this.meeting)return e(r,null,e("div",{id:"header"}),e("div",{class:"tab-body"},e("div",{class:"status-container"},e("div",{class:"status-section"},e("div",{class:"section-header",onClick:()=>this.toggleSection("battery")},e("span",null,this.t("debugger.system.sections.battery")),this.batterySectionHealth&&e("span",{class:`status ${null===(t=this.batterySectionHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(s=this.batterySectionHealth)||void 0===s?void 0:s.toLowerCase()}`))),this.isBatterySectionOpen&&!!this.batteryFormattedStats.length&&e("div",{class:"section-body battery-table"},this.batteryFormattedStats.map((t=>{var r,s;return e("div",{class:"battery-row"},e("div",{class:"battery-cell label"},e("strong",null,t.name),e("span",{class:"description"},t.description)),e("div",{class:"battery-cell value"},e("span",{class:`status ${null===(r=t.verdict)||void 0===r?void 0:r.toLowerCase()}`},this.t(`debugger.quality.${null===(s=t.verdict)||void 0===s?void 0:s.toLowerCase()}`)),e("span",{class:"value"},t.value)))})))))))}static get watchers(){return{meeting:["meetingChanged"]}}};h.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";const p=class{constructor(e){t(this,e),this.mediaScoreUpdateListener=({kind:t,isScreenshare:e,scoreStats:r})=>{"video"!==t||e||(this.videoProducerScoreStats=r)},this.deviceListUpdateListener=async()=>{const t=await this.meeting.self.getVideoDevices();this.devicesHealth=(null==t?void 0:t.length)>0?"Good":"Poor"},this.videoUpdateListener=()=>{this.meeting.self.videoEnabled||(this.videoProducerScoreStats=null)},this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s,this.t=a(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null}async videoProducerScoreStatsChanged(t){if(!t)return void(this.videoProducerFormattedStats=[]);const e=t,r=[];r.push({name:this.t("debugger.stats.cpu_limitations.label"),value:e.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:e.cpuLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:e.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:e.bandwidthLimitations?"Poor":"Good"}),r.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(e.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:n({bitrate:e.bitrate,kind:"video",isScreenshare:!1})}),r.push({name:this.t("debugger.stats.packet_loss.label"),value:`${e.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:i({packetLossPercentage:e.packetsLostPercentage})}),r.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*e.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:d({jitterInMS:1e3*e.jitter})}),this.videoProducerFormattedStats=r,this.networkBasedMediaHealth=o({kind:"video",isScreenshare:!1,stats:r})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("videoUpdate",this.videoUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("videoUpdate",this.videoUpdateListener),t.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var t,s;if(this.meeting)return e(r,null,e("div",{id:"header"}),e("div",{class:"tab-body"},e("div",{class:"status-container"},e("div",{class:"status-section"},e("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},e("span",null,this.t("debugger.video.sections.network_media")),this.networkBasedMediaHealth&&e("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(s=this.networkBasedMediaHealth)||void 0===s?void 0:s.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&e("div",{class:"section-body missing-stats"},e("span",null,this.t(this.meeting.self.videoEnabled?"debugger.video.messages.generating_report":"debugger.video.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&e("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((t=>{var r,s;return e("div",{class:"network-row"},e("div",{class:"network-cell label"},e("strong",null,t.name),e("span",{class:"description"},t.description)),e("div",{class:"network-cell value"},e("span",{class:`status ${null===(r=t.verdict)||void 0===r?void 0:r.toLowerCase()}`},this.t(`debugger.quality.${null===(s=t.verdict)||void 0===s?void 0:s.toLowerCase()}`)),e("span",{class:"value"},t.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";export{b as dyte_debugger_audio,g as dyte_debugger_screenshare,h as dyte_debugger_system,p as dyte_debugger_video}