import{r as t,c as i,h as s,H as e}from"./p-aff91b47.js";import"./p-a03d57a1.js";import{d as a}from"./p-5a97005d.js";import"./p-a6712bf4.js";import{d as o,b as n}from"./p-a58f1780.js";import"./p-e497ad6d.js";import{S as r}from"./p-dc76fcea.js";import"./p-ae02fe11.js";import"./p-bf38ee7f.js";var c=function(t,i,s,e){var a,o=arguments.length,n=o<3?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,i,s,e);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(i,s,n):a(i,s))||n);return o>3&&n&&Object.defineProperty(i,s,n),n};const p=class{constructor(s){t(this,s),this.stateUpdate=i(this,"dyteStateUpdate",7),this.variant="button",this.config=a,this.iconPack=o,this.t=n(),this.captionEnabled=!1,this.permissionsUpdateListener=()=>{var t;this.captionEnabled=null!==(t=this.meeting.self.permissions.transcriptionEnabled)&&void 0!==t&&t}}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(t){null!==t&&(this.permissionsUpdateListener(),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}disconnectedCallback(){var t;null===(t=this.meeting)||void 0===t||t.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}toggleCaptions(){this.stateUpdate.emit({activeCaptions:!this.states.activeCaptions,activeMoreMenu:!1})}render(){if(!this.captionEnabled)return null;const t=this.states.activeCaptions;return s(e,{tabIndex:0,role:"log","aria-label":"Picture-in-Picture mode"},s("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:()=>this.toggleCaptions(),icon:t?this.iconPack.captionsOff:this.iconPack.captionsOn,label:this.t(t?"transcript.off":"transcript.on"),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};c([r()],p.prototype,"meeting",void 0),c([r()],p.prototype,"states",void 0),c([r()],p.prototype,"iconPack",void 0),c([r()],p.prototype,"t",void 0),p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";export{p as dyte_caption_toggle}