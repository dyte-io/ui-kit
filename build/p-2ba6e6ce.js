import{a as t}from"./p-4de316e3.js";const n=t=>t.split(/[#?]/)[0].split(".").pop().trim(),a=t=>{if(!t)return"0 B";const n=Math.floor(Math.log(t)/Math.log(1024));return`${(t/1024**n).toFixed(2)} ${["B","kB","MB","GB","TB"][n]}`},r=async(n,a)=>{n=t(n);let r=null==a?void 0:a.name;const e=await fetch(n);if(!e.ok)return void window.open(n,"_blank");const o=URL.createObjectURL(await e.blob()),s=document.createElement("a");s.href=o,s.download=null!=r?r:((t,n="file")=>{try{const a=new URL(t).pathname.split("/").pop();return"/"!==a?a:n}catch(t){return n}})(n,null==a?void 0:a.fallbackName),s.click()};export{a,r as d,n as g}